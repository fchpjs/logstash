<project name="Solr Cloud Logstash">
    <description>
        Jenkins Ant file for Solr Cloud Logstash
    </description>
    <property environment="env"/>
    
    <target name="copy-configuration">
        <copy todir="${dest_dir}" overwrite="true" force="true" >
            <resources>
                <file file="${env.WORKSPACE}/configuration/solr/solr.conf"/>
            </resources>
        </copy>
        <replaceregexp 
            file="${dest_dir}/solr.conf" 
            match="solr_log_path" 
            replace="${solr_log_path}" 
            byline="true"/>
        <replaceregexp 
            file="${dest_dir}/solr.conf" 
            match="region_value" 
            replace="${region_value}" 
            byline="true"/>
        <replaceregexp 
            file="${dest_dir}/solr.conf" 
            match="bucket_value" 
            replace="${bucket_value}" 
            byline="true"/>
        <replaceregexp 
            file="${dest_dir}/solr.conf" 
            match="prefix_value" 
            replace="${prefix_value}" 
            byline="true"/>
    </target>
 <!--
 <target name="restart-logstash">
    <exec failonerror="true" dir="${dest.dir}" executable="sudo">
        <arg line="/etc/init.d/logstash restart"/>
    </exec>
 </target>
 -->
</project>